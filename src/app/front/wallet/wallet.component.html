<div class="main-content my-wallet-content set-payment">
  <div class="card p-0">
    <div class="card-body">
      <div class="title">
        <div class="row m-0 align-items-center">
          <div class="col-12 col-sm-3 ps-0 text d-flex align-items-center">
            <span>Wallet</span>
          </div>
        </div>
      </div>
      <div class="tabbing-content mt-3">
        <div class="row">
          <div class="col-lg-6 col-xxl-7">
            <ul #nav="ngbNav" [(activeId)]="active" class="nav-tabs" ngbNav (activeIdChange)="mainNavChangeFn()">
              <li [ngbNavItem]="1" >
                <button ngbNavLink>Withdraw</button>
                <ng-template ngbNavContent>
                  <ul #nav1="ngbNav" [(activeId)]="subactive" class="nav-tabs" ngbNav (activeIdChange)="navChangeFn()">
                    <li [ngbNavItem]="1">
                      <button ngbNavLink>Crypto</button>
                      <ng-template ngbNavContent>
                        <form [formGroup]="setPaymentForm" class="p-0">
                          <div class="form-group pb-2">
                            <label class="me-2 d-inline ">Wallet:</label> <w3m-core-button label=""/>
                          </div>
                          <div class="form-group">
                            <label>Payment Methods</label>
                            <div class="row">
                              <div class="col-xxl-4 col-md-4 col-4 pe-0">
                                <div class="form-radio">
                                  <label class="container-radio">Ethereum
                                    <input formControlName="paymentMethod" type="radio" value="ETH"/>
                                    <span class="checkmark"></span>
                                  </label>
                                </div>
                              </div>
                              <div class="col-xxl-4 col-md-4 col-4 pe-0">
                                <div class="form-radio">
                                  <label class="container-radio">USDT
                                    <input formControlName="paymentMethod" type="radio" value="USDT"/>
                                    <span class="checkmark"></span>
                                  </label>
                                </div>
                              </div>
                              <div class="col-xxl-4 col-md-4 col-4 pe-0">
                                <div class="form-radio">
                                  <label class="container-radio">USDC
                                    <input formControlName="paymentMethod" type="radio" value="USDC"/>
                                    <span class="checkmark"></span>
                                  </label>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-6 col-xxl-4 col-md-6">
                              <div class="form-group">
                                <label>Amount in USD</label>
                                <input (input)="convertUsdToEthOrToken($event)"
                                       [(ngModel)]="amountInUsd"
                                       [min]="0"
                                       [ngModelOptions]="{standalone: true}"
                                       class="form-control"
                                       type="number"
                                >
                              </div>
                            </div>
                            <div class="col-6 col-xxl-4 col-md-6">
                              <div class="form-group">
                                <label>Amount</label>
                                <input (input)="valueChange($event)"
                                       [min]="0"
                                       class="form-control"
                                       formControlName="amount"
                                       type="number"
                                >
                              </div>
                            </div>
                          </div>
                        </form>
                        <button (click)="withdrawMoney()" *ngIf="isWalletConnected" [disabled]="!isSetPaymentFormValid"
                                class="btn btnsuccess send w-100 mt-3">Withdraw amount
                        </button>
                        <button (click)="connectWallet()" *ngIf="!isWalletConnected" class="btn btnsuccess send w-100 mt-3">
                          Connect Wallet
                        </button>
                      </ng-template>
                    </li>
                  </ul>
                  <div [ngbNavOutlet]="nav1" class="mt-3"></div>

                </ng-template>
              </li>
              <li [ngbNavItem]="2" >
                <button ngbNavLink>Add</button>
                <ng-template ngbNavContent>
                  <ul #nav1="ngbNav" [(activeId)]="subactive" class="nav-tabs" ngbNav (activeIdChange)="navChangeFn()">
                    <li [ngbNavItem]="1">
                      <button ngbNavLink>Mobile Money <img src="./assets/images/front/mtn.png" alt="" class="ms-2" style="width: 20px;height: 20px;"><img src="./assets/images/front/orange.png" alt="" class="ms-2" style="width: 20px;height: 20px;"></button>
                      <ng-template ngbNavContent>
                        <form [formGroup]="setMobileMoneyForm" class="p-0">
                          <div class="form-group">
                            <label>Payment Method</label>
                            <div class="row">
                              <div class="col-xxl-4 col-md-3 col-3 pe-0">
                                <div class="form-radio">
                                  <label class="container-radio">FCFA
                                    <input formControlName="paymentMethod" type="radio" value="FCFA"/>
                                    <span class="checkmark"></span>
                                  </label>
                                </div>
                              </div>
                              <div class="col-xxl-8 col-md-9 col-9 pe-0 mtn-org-img">
                                <div class="row">
                                  <span class="d-flex">
                                    <img src="./assets/images/front/mtn.png" alt="" class="me-1"> MTN Mobile Money
                                  </span>
                                  <span class="d-flex">
                                    <img src="./assets/images/front/orange.png" alt="" class="me-1"> Orange Money
                                  </span>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-6 col-xxl-4 col-md-6">
                              <div class="form-group">
                                <label>Amount in FCFA</label>
                                <input
                                  (input)="valueChangeMobileMoney($event)"
                                  [min]="0"
                                  class="form-control"
                                  formControlName="amount"
                                  type="number"
                                  placeholder="0"
                                >
                                <div class="invalid-feedback d-block" *ngIf="setMobileMoneyForm.get('amount')?.errors?.['notInteger'] && (setMobileMoneyForm.get('amount')?.touched || setMobileMoneyForm.get('amount')?.dirty)">
                                  Must be a round number
                                </div>
                              </div>
                            </div>
                            <div class="col-6 col-xxl-4 col-md-6">
                              <div class="form-group">
                                <label>Amount in Usd</label>
                                <input (input)="convertUsdToMobileMoney($event)"
                                       [(ngModel)]="amountInUsd"
                                       [min]="0"
                                       [ngModelOptions]="{standalone: true}"
                                       class="form-control"
                                       type="number"
                                       placeholder="0"
                                >
                              </div>
                            </div>
                          </div>
                        </form>
                        <button (click)="addMobileMoney()" [disabled]="!issetMobileMoneyFormValid"
                                class="btn btnsuccess send w-100 mt-3">Add amount
                        </button>
                      </ng-template>
                    </li>
                  </ul>
                  <div [ngbNavOutlet]="nav1" class="mt-3"></div>
                </ng-template>
              </li>
            </ul>
            <div [ngbNavOutlet]="nav" class="mt-3"></div>
          </div>
          <div class="col-lg-6 col-xxl-5 mt-5 mt-md-0">
            <div class="tableresponsive table-responsive-xxl currency-table">
              <table class="table table-striped">
                <thead>
                <tr>
                  <th>Currency</th>
                  <th>Balance</th>
                  <th>Balance in Usd</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let item of currency">
                  <td class="text-center"><img [src]="item.avatar"> {{item.name}}</td>
                  <td class="text-center" *ngIf="item?.name=='FCFA'"> <span>{{getBalanceInSelectedCurrency(item.id)|currency:'XAF':'':'1.0-2'}}</span></td>
                  <td class="text-center" *ngIf="item?.name!='FCFA'"> <span>{{getBalanceInSelectedCurrency(item.id) }}</span></td>
                  <td class="text-center ">{{getBalanceInUsd(item.id)|currency:'':''}}</td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



